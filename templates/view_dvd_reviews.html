{% include 'header.html'%}
{% block body %}

    <style>
        .star {
          display: inline-block;
          vertical-align: middle;
          width: 20px;
          height: 20px;
        }

        #review-image {
            text-align: center;
            max-height: 150px;
            max-width: 150px;
            padding-left: 20px;
        }

        #button-submit {
            color: white;
            background-color: lightblue;
        }
    </style>

    <div class="container" style="padding-top: 30px;">
        <h1>View your DVD reviews</h1>
        <img src="static/images/Review_Writing_note.png" alt="review note" class="img-fluid" style="max-height: 200px; max-width: 200px;">

                    {% if message %}
                        <p>{{ message }}</p>
                    {% elif error %}
                        <p>{{ error }}</p>
                    {% endif %}

    </div>
    <hr>

<div class="container" style="padding-top: 30px; width: 100%;">
    <div class="row">
    {% for review in reviews %}
        {% if review.dvd_id is not none %}
            <div class="col-md-6 col-sm-12 justify-content-center text-center mb-4">
                {% if reviews|length == 0 %}
                    <h3><b>You have no Reviews added to your DVD's in your collection,  click add a review on a DVD.</b></h3>
                {% endif %}

                <div class="review-card" style="border: 5px solid black; padding: 10px; margin-bottom: 20px; text-align: center;">
                <ul class="list-group list-group-flush" style="display: inline-block; text-align: left;">

                        {% if review.dvd.name  %}
                        <li class="list-group-item"><b>DVD:</b> {{  review.dvd.name }}</li>
                        {% endif %}
                        <img src="{{ review.dvd.image_url }}" class="img-fluid" id="review-image">
                        <li class="list-group-item"><b>User Name:</b> {{ review.user.firstname }} </li>
                        <li class="list-group-item"><b>Review:</b> {{  review.review }}</li>
                        <!-- for loop to iterate over number of stars -->
                        <li class="list-group-item"><b>Rating:</b>{% for i in range(review.rating) %}
                            <img id="gold_star" src="static/images/gold star.jpg" width="20" height="20" class="star">
                        {% endfor %}</li>


                    </li>
                </ul>
                <br>
                    <!-- pass in review_id into delete function -->
                    <form method="POST" action="{{ url_for('delete_dvd_reviews_by_dvd_id') }}" onsubmit="return alertUserReview()">
                        <input type="hidden" id="dvd_id" name="dvd_id" value="{{ review.dvd_id }}">
                        <input type="submit" value="Delete This Review?" id="button-submit">
                    </form>
                </div>
            </div>
        {% endif %}
    {% endfor %}
    </div>
</div>


{% endblock %}